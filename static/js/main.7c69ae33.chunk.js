(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(o,e,i){o.exports=i.p+"static/media/cardblue.243a78c7.png"},172:function(o,e,i){o.exports=i.p+"static/media/git_icon.023263a0.svg"},173:function(o,e,i){o.exports=i(427)},215:function(o,e){},217:function(o,e){},251:function(o,e){},252:function(o,e){},318:function(o,e){},420:function(o,e,i){},425:function(o,e,i){},427:function(o,e,i){"use strict";i.r(e);var t=i(1),n=i.n(t),a=i(97),r=i.n(a),A=i(24),s=i(25),K=i(27),c=i(26),l=i(28),u=i(35),g=i(170),p=i.n(g),d=function(o){function e(o){var i;return Object(A.a)(this,e),(i=Object(K.a)(this,Object(c.a)(e).call(this,o))).state={isOpen:!1},i.closeModal=i.closeModal.bind(Object(u.a)(Object(u.a)(i))),i.updateFocus=i.updateFocus.bind(Object(u.a)(Object(u.a)(i))),i}return Object(l.a)(e,o),Object(s.a)(e,[{key:"openModal",value:function(){this.setState({isOpen:!0})}},{key:"closeModal",value:function(){this.setState({isOpen:!1}),"function"===typeof this.props.onClose&&this.props.onClose()}},{key:"keydownHandler",value:function(o){27===o.keyCode&&this.closeModal()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydownHandler.bind(this),!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keydownHandler)}},{key:"componentWillReceiveProps",value:function(o){this.setState({isOpen:o.isOpen})}},{key:"componentDidUpdate",value:function(){this.state.isOpen&&this.modal&&this.modal.focus()}},{key:"updateFocus",value:function(o){9===o.keyCode&&(o.preventDefault(),o.stopPropagation(),this.modal===document.activeElement?this.modalbtn.focus():this.modal.focus())}},{key:"getQueryString",value:function(o){var e="";for(var i in o)o.hasOwnProperty(i)&&null!==o[i]&&(e+=i+"="+o[i]+"&");return e.substr(0,e.length-1)}},{key:"getYoutubeUrl",value:function(o,e){return"//www.youtube.com/embed/"+e+"?"+this.getQueryString(o)+"&autoplay=1&mute=1"}},{key:"getVimeoUrl",value:function(o,e){return"//player.vimeo.com/video/"+e+"?"+this.getQueryString(o)}},{key:"getYoukuUrl",value:function(o,e){return"//player.youku.com/embed/"+e+"?"+this.getQueryString(o)}},{key:"getVideoUrl",value:function(o,e){return"youtube"===o.channel?this.getYoutubeUrl(o.youtube,e):"vimeo"===o.channel?this.getVimeoUrl(o.vimeo,e):"youku"===o.channel?this.getYoukuUrl(o.youku,e):void 0}},{key:"getPadding",value:function(o){var e=o.split(":"),i=Number(e[0]);return 100*Number(e[1])/i+"%"}},{key:"render",value:function(){var o=this,e={paddingBottom:this.getPadding(this.props.ratio)};return n.a.createElement(p.a,{classNames:this.props.classNames.modalVideoEffect,timeout:this.props.animationSpeed},function(){return o.state.isOpen?n.a.createElement("div",{className:o.props.classNames.modalVideo,tabIndex:"-1",role:"dialog","aria-label":o.props.aria.openMessage,onClick:o.closeModal,ref:function(e){o.modal=e},onKeyDown:o.updateFocus},n.a.createElement("div",{className:o.props.classNames.modalVideoBody},n.a.createElement("div",{className:o.props.classNames.modalVideoInner},n.a.createElement("div",{className:o.props.classNames.modalVideoIframeWrap,style:e},n.a.createElement("button",{className:o.props.classNames.modalVideoCloseBtn,"aria-label":o.props.aria.dismissBtnMessage,ref:function(e){o.modalbtn=e},onKeyDown:o.updateFocus}),n.a.createElement("iframe",{width:"460",height:"230",src:o.getVideoUrl(o.props,o.props.videoId),frameBorder:"0",allowFullScreen:o.props.allowFullScreen,tabIndex:"-1"}))))):null})}}]),e}(n.a.Component);d.defaultProps={channel:"youtube",isOpen:!1,youtube:{autoplay:1,cc_load_policy:1,color:null,controls:1,disablekb:0,enablejsapi:0,end:null,fs:1,h1:null,iv_load_policy:1,list:null,listType:null,loop:0,modestbranding:null,origin:null,playlist:null,playsinline:null,rel:0,showinfo:1,start:0,wmode:"transparent",theme:"dark"},ratio:"16:9",vimeo:{api:!1,autopause:!0,autoplay:!0,byline:!0,callback:null,color:null,height:null,loop:!1,maxheight:null,maxwidth:null,player_id:null,portrait:!0,title:!0,width:null,xhtml:!1},youku:{autoplay:1,show_related:0},allowFullScreen:!0,animationSpeed:300,classNames:{modalVideoEffect:"modal-video-effect",modalVideo:"modal-video",modalVideoClose:"modal-video-close",modalVideoBody:"modal-video-body",modalVideoInner:"modal-video-inner",modalVideoIframeWrap:"modal-video-movie-wrap",modalVideoCloseBtn:"modal-video-close-btn"},aria:{openMessage:"You just openned the modal video",dismissBtnMessage:"Close the modal by clicking here"}};var m=i(17),f=i.n(m),h=i(36),v=i(188),C=i(417),y=function(o,e){return Math.floor(Math.random()*(e-o+1))+o},w=function(){var o=Object(h.a)(f.a.mark(function o(e){var i;return f.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,v(e,{json:!0});case 3:return i=o.sent,o.abrupt("return",i);case 7:return o.prev=7,o.t0=o.catch(0),console.log(o.t0),o.abrupt("return","error");case 11:case"end":return o.stop()}},o,this,[[0,7]])}));return function(e){return o.apply(this,arguments)}}(),b=function(){var o=Object(h.a)(f.a.mark(function o(){var e,i,t,n,a;return f.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e=y(1,10),i="https://api.jikan.moe/v3/top/anime/"+e+"/tv",o.next=4,w(i);case 4:if("error"!==(t=o.sent)){o.next=7;break}return o.abrupt("return",t);case 7:for(n=[],a=function(){var o=y(0,49);0===n.filter(function(e){return e.pos===o}).length&&n.push({pos:o,title:t.top[o].title,img:t.top[o].image_url})};6!==n.length;)a();return o.abrupt("return",n);case 11:case"end":return o.stop()}},o,this)}));return function(){return o.apply(this,arguments)}}(),k=function(){var o=Object(h.a)(f.a.mark(function o(e){var i,t;return f.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i={part:"id",q:e+" anime op",type:"video"},o.prev=1,o.next=4,C("AIzaSyBCubdrUmUlYrkueAyYwnm6KtURKcoLCz8",i);case 4:if("error"!==(t=o.sent)){o.next=7;break}return o.abrupt("return",t);case 7:return o.abrupt("return",t.items[0].id.videoId);case 10:return o.prev=10,o.t0=o.catch(1),console.log("Youtube API Error"),o.abrupt("return","error");case 14:case"end":return o.stop()}},o,this,[[1,10]])}));return function(e){return o.apply(this,arguments)}}(),E=i(171),B=i.n(E),M=i(98),O=i.n(M),I=function(o){return new Promise(function(e){return setTimeout(e,o)})},S=function(o){function e(){var o,i;Object(A.a)(this,e);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(i=Object(K.a)(this,(o=Object(c.a)(e)).call.apply(o,[this].concat(n)))).state={animationState:"running",frontImg:O.a},i}var i,t;return Object(l.a)(e,o),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.prepareAnimes()}},{key:"prepareAnimes",value:(t=Object(h.a)(f.a.mark(function o(){var e;return f.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,b();case 2:if("error"!==(e=o.sent)){o.next=5;break}return o.abrupt("return",this.props.errorActivator());case 5:console.log(e),this.setState({animes:e}),document.getElementsByClassName("cardBack")[0].style.cursor="pointer";case 9:case"end":return o.stop()}},o,this)})),function(){return t.apply(this,arguments)})},{key:"prepareAnimeYoutubeVideo",value:(i=Object(h.a)(f.a.mark(function o(e){var i;return f.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,k(e.title);case 2:if("error"!==(i=o.sent)){o.next=5;break}return o.abrupt("return",this.props.errorActivator());case 5:return o.next=7,I(500);case 7:this.setState({animationState:"finished"}),this.props.videoActivator(i);case 9:case"end":return o.stop()}},o,this)})),function(o){return i.apply(this,arguments)})},{key:"getImgAngle",value:function(o){var e=window.getComputedStyle(o,null).getPropertyValue("transform");if("none"!==e){var i=e.split("(")[1].split(")")[0].split(","),t=i[0],n=i[1],a=Math.round(Math.atan2(n,t)*(180/Math.PI));return a<0&&(a=360+a),a}}},{key:"endSpinningAnimation",value:function(o,e){var i=this;o.addEventListener("animationiteration",function t(){o.classList.toggle("spinning");var n=document.getElementsByClassName("main-front");n[0].classList.toggle("flipper"),n[0].classList.toggle("is-flipped"),i.prepareAnimeYoutubeVideo(e),o.removeEventListener("animationiteration",t)})}},{key:"restartSpin",value:function(){var o=this,e=document.getElementsByClassName("main-front");e[0].classList.toggle("is-flipped"),this.setState({animationState:"stopping"});e[0].addEventListener("transitionend",function i(){e[0].classList.toggle("flipper"),e[0].removeEventListener("transitionend",i),document.getElementsByClassName("cardBack")[0].classList.toggle("spinning"),o.setState({animationState:"running",frontImg:O.a})})}},{key:"imageClick",value:function(o){if("stopping"!==this.state.animationState&&void 0!==this.state.animes){if("finished"===this.state.animationState)return this.restartSpin();var e=o.target,i=this.getImgAngle(e),t=Math.floor(i/60),n=this.state.animes[t];console.log("choiced number "+t),this.setState({animationState:"stopping",frontImg:n.img}),this.endSpinningAnimation(e,n)}}},{key:"render",value:function(){var o=this;return n.a.createElement("main",{className:"main-front"},n.a.createElement("img",{className:"card cardBack spinning",src:B.a,onClick:function(e){return o.imageClick(e)},alt:"Card"}),n.a.createElement("img",{className:"card cardFront",src:this.state.frontImg,onClick:function(e){return o.imageClick(e)},alt:"Card"}))}}]),e}(t.Component),D=i(172),j=i.n(D),Q=function(o){function e(){var o,i;Object(A.a)(this,e);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(i=Object(K.a)(this,(o=Object(c.a)(e)).call.apply(o,[this].concat(n)))).state={msg:""},i}return Object(l.a)(e,o),Object(s.a)(e,[{key:"componentDidMount",value:function(){var o=this;this.timerID=setInterval(function(){return o.typeMsg()},this.props.typingSpeed)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"typeMsg",value:function(){var o=this;this.state.msg.length!==this.props.headerMsg.length?this.setState(function(e){return{msg:e.msg.concat(o.props.headerMsg.charAt(e.msg.length))}}):clearInterval(this.timerID)}},{key:"render",value:function(){return n.a.createElement("header",{className:"flex-container header-front"},n.a.createElement("h1",null,this.state.msg))}}]),e}(t.Component),x=function(){return n.a.createElement("footer",{className:"flex-container footer"},n.a.createElement("a",{href:"https://github.com/Augus-top/wheel-of-fate"},n.a.createElement("img",{src:j.a,alt:"Git Page"})))},N=function(o){function e(){var o,i;Object(A.a)(this,e);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(i=Object(K.a)(this,(o=Object(c.a)(e)).call.apply(o,[this].concat(n)))).state={error:!1},i.activateError=function(){return i.setState({error:!0})},i}return Object(l.a)(e,o),Object(s.a)(e,[{key:"render",value:function(){return this.state.error?n.a.createElement("div",{className:"error"}):n.a.createElement("div",{className:"grid-wrapper"},n.a.createElement(Q,{headerMsg:"The Wheel of Fate is Turning",typingSpeed:"50"}),n.a.createElement(S,{videoActivator:this.props.videoActivator,errorActivator:this.activateError}),n.a.createElement(x,null))}}]),e}(t.Component),V=function(o){function e(){var o,i;Object(A.a)(this,e);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(i=Object(K.a)(this,(o=Object(c.a)(e)).call.apply(o,[this].concat(n)))).state={isOpen:!1,videoId:"UiukN_2AVEU"},i.openVideo=function(o){i.setState({isOpen:!0,videoId:o})},i}return Object(l.a)(e,o),Object(s.a)(e,[{key:"render",value:function(){var o=this;return n.a.createElement("div",null,n.a.createElement(d,{channel:"youtube",isOpen:this.state.isOpen,videoId:this.state.videoId,onClose:function(){return o.setState({isOpen:!1})}}),n.a.createElement(N,{videoActivator:this.openVideo}))}}]),e}(t.Component),U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(o){navigator.serviceWorker.register(o).then(function(o){o.onupdatefound=function(){var e=o.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(o){console.error("Error during service worker registration:",o)})}i(418),i(420),i(425);r.a.render(n.a.createElement(V,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/wheel-of-fate",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var o="".concat("/wheel-of-fate","/service-worker.js");U?(function(o){fetch(o).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(o){o.unregister().then(function(){window.location.reload()})}):F(o)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(o),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):F(o)})}}()},98:function(o,e){o.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD//gA8Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTUKAP/bAEMAAgEBAgEBAgICAgICAgIDBQMDAwMDBgQEAwUHBgcHBwYHBwgJCwkICAoIBwcKDQoKCwwMDAwHCQ4PDQwOCwwMDP/bAEMBAgICAwMDBgMDBgwIBwgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIAU8A4QMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AP38ooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/9k="}},[[173,2,1]]]);
//# sourceMappingURL=main.7c69ae33.chunk.js.map